# å‰ç«¯ä»£ç ç»“æ„åˆ†æä¸é‡æ„å»ºè®®

> åˆ†ææ—¥æœŸï¼š2026-01-26

## ğŸ“ ç›®å½•ç»“æ„

```
frontend/src/
â”œâ”€â”€ index.html          (1944 è¡Œ) âš ï¸ å·¨å¤§æ–‡ä»¶
â”œâ”€â”€ index.js            (380 è¡Œ)  âš ï¸ App ä¸»ç±»ï¼ŒèŒè´£è¿‡å¤š
â”œâ”€â”€ components/         # æ™ºèƒ½åŠŸèƒ½ç»„ä»¶
â”‚   â”œâ”€â”€ ChatOCRIntegration.js  (392 è¡Œ)
â”‚   â”œâ”€â”€ DocumentQA.js          (665 è¡Œ)
â”‚   â””â”€â”€ SmartExtract.js        (584 è¡Œ)
â”œâ”€â”€ services/           # ä¸šåŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ APIClient.js           (159 è¡Œ) âœ… èŒè´£å•ä¸€
â”‚   â”œâ”€â”€ DocumentProcessor.js   (380 è¡Œ) âœ… 
â”‚   â”œâ”€â”€ EditorManager.js       (1069 è¡Œ) âš ï¸ è¾ƒå¤§
â”‚   â”œâ”€â”€ HTMLEditorManager.js   (600 è¡Œ)
â”‚   â”œâ”€â”€ StatusPoller.js        (257 è¡Œ) âœ…
â”‚   â””â”€â”€ UIManager.js           (371 è¡Œ) âœ…
â””â”€â”€ __tests__/          # å•å…ƒæµ‹è¯•
    â””â”€â”€ ... (8 ä¸ªæµ‹è¯•æ–‡ä»¶)
```

## ğŸ”§ æŠ€æœ¯æ ˆ

| ç±»åˆ« | ä½¿ç”¨çš„æŠ€æœ¯ |
|------|-----------|
| **UI æ¡†æ¶** | âŒ æ— ï¼ˆçº¯åŸç”Ÿ JSï¼‰ |
| **CSS** | åŸç”Ÿ CSSï¼ˆå†…è”åœ¨ index.htmlï¼‰ |
| **JS** | ES6 Class + åŸç”Ÿ DOM æ“ä½œ |
| **æ„å»ºå·¥å…·** | Viteï¼ˆä»…åšå¼€å‘æœåŠ¡å™¨å’Œæ‰“åŒ…ï¼‰ |
| **HTTP è¯·æ±‚** | axios |
| **å¯Œæ–‡æœ¬ç¼–è¾‘** | Editor.jsï¼ˆå®é™…æœªä½¿ç”¨ï¼Œç”¨çš„æ˜¯è‡ªå®šä¹‰ Block åˆ—è¡¨ï¼‰ |
| **æµ‹è¯•** | Jest |

## ğŸ”— ä¾èµ–å…³ç³»å›¾

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚              index.html                  â”‚
                    â”‚  (1944è¡Œ - åŒ…å«HTML+CSS+å†…è”JS+è¡¥ä¸)      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚ åŠ è½½
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚               index.js                   â”‚
                    â”‚  class App (380è¡Œ - ä¸»æ§åˆ¶å™¨)             â”‚
                    â”‚  - æ–‡ä»¶ä¸Šä¼ å¤„ç†                           â”‚
                    â”‚  - OCRåŒºåŸŸç»˜åˆ¶                            â”‚
                    â”‚  - Blockåˆ—è¡¨æ¸²æŸ“                          â”‚
                    â”‚  - ç¼–è¾‘å¼¹çª—ç®¡ç†                           â”‚
                    â”‚  - å†å²ç¼“å­˜ç®¡ç†                           â”‚
                    â”‚  - ä¸‹è½½åŠŸèƒ½                               â”‚
                    â”‚  - å·¥ä½œæµæ­¥éª¤ç®¡ç†                         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚                  â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”          â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ DocumentProcessor â”‚          â”‚     UIManager       â”‚
          â”‚    (380è¡Œ)        â”‚          â”‚     (371è¡Œ)         â”‚
          â”‚ - æ–‡ä»¶å¤„ç†        â”‚          â”‚ - çŠ¶æ€æ˜¾ç¤º          â”‚
          â”‚ - APIè°ƒç”¨         â”‚          â”‚ - è¿›åº¦æ¡            â”‚
          â”‚ - è½®è¯¢çŠ¶æ€        â”‚          â”‚ - æ¶ˆæ¯æç¤º          â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   StatusPoller    â”‚
          â”‚    (257è¡Œ)        â”‚
          â”‚ - çŠ¶æ€è½®è¯¢        â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                  æ™ºèƒ½åŠŸèƒ½ç»„ä»¶ (ç‹¬ç«‹åŠ è½½)                      â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  ChatOCRIntegration.js (392è¡Œ)                              â”‚
    â”‚  â”œâ”€â”€ SmartExtract.js (584è¡Œ) - æ™ºèƒ½æå–é¢æ¿                 â”‚
    â”‚  â””â”€â”€ DocumentQA.js (665è¡Œ) - æ–‡æ¡£é—®ç­”é¢æ¿                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š ä»£ç è¡Œæ•°ç»Ÿè®¡

| ç±»åˆ« | è¡Œæ•° | å æ¯” |
|------|------|------|
| index.html | 1944 | 28% |
| index.js (App) | 380 | 5% |
| components/ | 1641 | 24% |
| services/ | 2836 | 41% |
| **æ€»è®¡** | **6801** | 100% |

## âš ï¸ ä¸»è¦é—®é¢˜

| é—®é¢˜ | ä¸¥é‡ç¨‹åº¦ | è¯´æ˜ |
|------|----------|------|
| **index.html è¿‡å¤§** | ğŸ”´ é«˜ | 1944è¡Œï¼Œæ··åˆäº† HTML + CSS + å†…è”JS + è¡¥ä¸ä»£ç  |
| **index.js èŒè´£è¿‡å¤š** | ğŸ”´ é«˜ | App ç±»æ‰¿æ‹…äº†å¤ªå¤šèŒè´£ï¼ˆä¸Šä¼ ã€æ¸²æŸ“ã€ç¼–è¾‘ã€ä¸‹è½½ã€å†å²...ï¼‰ |
| **CSS å†…è”åœ¨ HTML** | ğŸŸ¡ ä¸­ | æ‰€æœ‰æ ·å¼éƒ½åœ¨ index.html çš„ `<style>` æ ‡ç­¾ä¸­ |
| **JS è¡¥ä¸ä»£ç ** | ğŸŸ¡ ä¸­ | index.html åº•éƒ¨æœ‰å¤šä¸ª `<script>` è¡¥ä¸å— |
| **æ— æ¨¡å—æ‰“åŒ…** | ğŸŸ¡ ä¸­ | ä½¿ç”¨åŸç”Ÿ ES6 importï¼Œæ—  Webpack/Vite æ‰“åŒ…ä¼˜åŒ– |
| **ç»„ä»¶é€šä¿¡æ··ä¹±** | ğŸŸ¡ ä¸­ | é€šè¿‡ `window.app`ã€`window.chatOCR` å…¨å±€å˜é‡é€šä¿¡ |

## ğŸ“¦ ä¾èµ–åˆ†æ

```json
{
  "dependencies": {
    "@editorjs/editorjs": "^2.28.2",   // å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆå®é™…æœªä½¿ç”¨ï¼‰
    "@editorjs/header": "^2.7.0",      // Editor.js æ’ä»¶
    "@editorjs/paragraph": "^2.10.0",  // Editor.js æ’ä»¶
    "@editorjs/table": "^2.2.2",       // Editor.js æ’ä»¶
    "@editorjs/image": "^2.8.1",       // Editor.js æ’ä»¶
    "axios": "^1.6.0"                  // HTTP è¯·æ±‚åº“
  },
  "devDependencies": {
    "vite": "^5.0.0",                  // å¼€å‘æœåŠ¡å™¨ + æ‰“åŒ…
    "jest": "^29.7.0",                 // æµ‹è¯•æ¡†æ¶
    "babel": "..."                     // JS è½¬è¯‘
  }
}
```

## ğŸ”§ é‡æ„å»ºè®®

### æ–¹æ¡ˆ Aï¼šè½»åº¦é‡æ„ï¼ˆæ¨èï¼Œ1-2å¤©ï¼‰

1. **æŠ½å– CSS**
   - å°† index.html ä¸­çš„ `<style>` æŠ½å–åˆ° `styles/main.css`
   - æŒ‰æ¨¡å—æ‹†åˆ†ï¼š`base.css`, `layout.css`, `components.css`

2. **ç§»é™¤è¡¥ä¸ä»£ç **
   - å°† index.html åº•éƒ¨çš„ `<script>` è¡¥ä¸ç§»åˆ°ç‹¬ç«‹æ–‡ä»¶
   - æ•´åˆåˆ°å¯¹åº”çš„æ¨¡å—ä¸­

3. **æ‹†åˆ† App ç±»**
   ```
   index.js (App)
   â”œâ”€â”€ OCRRenderer.js        - OCR åŒºåŸŸç»˜åˆ¶
   â”œâ”€â”€ BlockListRenderer.js  - Block åˆ—è¡¨æ¸²æŸ“
   â”œâ”€â”€ EditPopupManager.js   - ç¼–è¾‘å¼¹çª—ç®¡ç†
   â”œâ”€â”€ HistoryManager.js     - å†å²ç¼“å­˜ç®¡ç†
   â””â”€â”€ DownloadManager.js    - ä¸‹è½½åŠŸèƒ½
   ```

### æ–¹æ¡ˆ Bï¼šä¸­åº¦é‡æ„ï¼ˆ3-5å¤©ï¼‰

- æ–¹æ¡ˆ A çš„æ‰€æœ‰å†…å®¹
- å¼•å…¥ Vite ä½œä¸ºæ„å»ºå·¥å…·ï¼ˆå·²æœ‰ï¼Œä½†æœªå……åˆ†åˆ©ç”¨ï¼‰
- ä½¿ç”¨ CSS Modules æˆ– Tailwind CSS
- æ·»åŠ  TypeScript ç±»å‹å®šä¹‰
- ç»Ÿä¸€çŠ¶æ€ç®¡ç†ï¼ˆç®€å•çš„ EventEmitter æ¨¡å¼ï¼‰

### æ–¹æ¡ˆ Cï¼šé‡åº¦é‡æ„ï¼ˆ1-2å‘¨ï¼‰

- è¿ç§»åˆ° React æˆ– Vue æ¡†æ¶
- å®Œæ•´çš„ç»„ä»¶åŒ–æ¶æ„
- çŠ¶æ€ç®¡ç†ï¼ˆRedux/Piniaï¼‰
- è·¯ç”±ç®¡ç†
- å®Œæ•´çš„ TypeScript æ”¯æŒ

## ğŸ’¡ å»ºè®®

| åœºæ™¯ | æ¨èæ–¹æ¡ˆ |
|------|----------|
| åªæ˜¯ç»´æŠ¤å’Œå°æ”¹åŠ¨ | **æš‚ä¸é‡æ„** |
| éœ€è¦æ·»åŠ æ–°åŠŸèƒ½ | **æ–¹æ¡ˆ A è½»åº¦é‡æ„** |
| è®¡åˆ’é•¿æœŸè¿­ä»£ | **æ–¹æ¡ˆ B ä¸­åº¦é‡æ„** |
| å›¢é˜Ÿåä½œå¼€å‘ | **æ–¹æ¡ˆ C é‡åº¦é‡æ„** |

## ä»£ç é£æ ¼ç¤ºä¾‹

å½“å‰ä»£ç ä½¿ç”¨ ES6 Classï¼Œä½† DOM æ“ä½œæ˜¯åŸç”Ÿçš„ï¼š

```javascript
class App {
    constructor() {
        this.currentJobId = null;
        // ...
    }
    
    renderBlockList() {
        var list = document.getElementById('blockList');
        list.innerHTML = '';
        // æ‰‹åŠ¨åˆ›å»º DOM å…ƒç´ 
        var item = document.createElement('div');
        item.className = 'block-item';
        item.setAttribute('data-region-index', idx);
        // ...
        list.appendChild(item);
    }
}
```

**ä¼˜ç‚¹**ï¼šç®€å•ç›´æ¥ã€æ— æ¡†æ¶å­¦ä¹ æˆæœ¬ã€æ‰“åŒ…ä½“ç§¯å°
**ç¼ºç‚¹**ï¼šä»£ç é‡å¤§åéš¾ä»¥ç»´æŠ¤ã€çŠ¶æ€ç®¡ç†æ··ä¹±ã€ç»„ä»¶å¤ç”¨å›°éš¾
